# –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è —è–∑—ã–∫–∞ C: –§–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## üìö –ì–ª–æ—Å—Å–∞—Ä–∏–π –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

| –¢–µ—Ä–º–∏–Ω | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
|--------|-------------|
| **–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä (–õ–µ–∫—Å–µ—Ä)** | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤. |
| **–¢–æ–∫–µ–Ω** | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–Ω–∞—á–∏–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —è–∑—ã–∫–∞ (–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, —á–∏—Å–ª–æ –∏ —Ç.–¥.). |
| **–õ–µ–∫—Å–µ–º–∞** | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ. |
| **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ** | –§–æ—Ä–º–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–æ–∫. |
| **–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç** | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–µ–∫—Å–µ—Ä–∞. |
| **–¢–∞–±–ª–∏—Ü–∞ —Å–∏–º–≤–æ–ª–æ–≤** | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ –∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤. |
| **–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ** | –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ —è–∑—ã–∫–µ. |
| **–õ–∏—Ç–µ—Ä–∞–ª** | –ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞) –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ. |
| **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å** | –°–∏–º–≤–æ–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Å–∫–æ–±–∫–∏, –∑–∞–ø—è—Ç—ã–µ). |
| **–û–ø–µ—Ä–∞—Ç–æ—Ä** | –°–∏–º–≤–æ–ª –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π (+, -, *, / –∏ —Ç.–¥.). |

## üîÑ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ú–µ—Å—Ç–æ –ª–µ–∫—Å–µ—Ä–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```dot
digraph CompilationPipeline {
    rankdir=LR;
    node [shape=box, style=filled, color=lightblue];
    
    source [label="–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥\nint main() { return 42; }"];
    lexer [label="–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä", color=gold, style=filled];
    parser [label="–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä"];
    ast [label="–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ\n–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –î–µ—Ä–µ–≤–æ"];
    semantic [label="–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π\n–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä"];
    optimization [label="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"];
    codegen [label="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞"];
    
    source -> lexer [label="–°–∏–º–≤–æ–ª—ã"];
    lexer -> parser [label="–¢–æ–∫–µ–Ω—ã", color=red, penwidth=2.0];
    parser -> ast;
    ast -> semantic;
    semantic -> optimization;
    optimization -> codegen;
    
    subgraph cluster_lexer {
        label="–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞";
        style=dashed;
        color=gray;
        
        input [label="–í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç", shape=ellipse];
        tokenizer [label="–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä"];
        classifier [label="–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤"];
        output [label="–°–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤", shape=ellipse];
        
        input -> tokenizer -> classifier -> output;
    }
}
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:                     ‚îÇ
‚îÇ int main() { return 42; }         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –¢–æ–∫–µ–Ω—ã:                           ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –¢–∏–ø     ‚îÇ –ó–Ω–∞—á–µ–Ω–∏–µ            ‚îÇ ‚îÇ
‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ ‚îÇ keyword ‚îÇ "int"               ‚îÇ ‚îÇ
‚îÇ ‚îÇ ident   ‚îÇ "main"              ‚îÇ ‚îÇ
‚îÇ ‚îÇ paren   ‚îÇ "("                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ paren   ‚îÇ ")"                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ brace   ‚îÇ "{"                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ keyword ‚îÇ "return"            ‚îÇ ‚îÇ
‚îÇ ‚îÇ number  ‚îÇ "42"                ‚îÇ ‚îÇ
‚îÇ ‚îÇ semicol ‚îÇ ";"                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ brace   ‚îÇ "}"                 ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ –ª–µ–∫—Å–µ—Ä–∞

```dot
digraph LexerStateMachine {
    rankdir=LR;
    node [shape=circle, style=filled, color=lightblue];
    
    initial [label="–ù–∞—á–∞–ª—å–Ω–æ–µ", shape=doublecircle];
    identifier [label="–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"];
    number [label="–ß–∏—Å–ª–æ"];
    string [label="–°—Ç—Ä–æ–∫–∞"];
    operator [label="–û–ø–µ—Ä–∞—Ç–æ—Ä"];
    comment [label="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"];
    error [label="–û—à–∏–±–∫–∞", color=lightcoral];
    final [label="–§–∏–Ω–∞–ª—å–Ω–æ–µ", shape=doublecircle];
    
    initial -> identifier [label="–±—É–∫–≤–∞/–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ"];
    initial -> number [label="—Ü–∏—Ñ—Ä–∞"];
    initial -> string [label="–∫–∞–≤—ã—á–∫–∞"];
    initial -> operator [label="+ - * / = < >"];
    initial -> comment [label="//"];
    initial -> error [label="–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–∏–º–≤–æ–ª"];
    
    identifier -> identifier [label="–±—É–∫–≤–∞/—Ü–∏—Ñ—Ä–∞/–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ"];
    identifier -> final [label="—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å"];
    
    number -> number [label="—Ü–∏—Ñ—Ä–∞"];
    number -> number [label="x (–¥–ª—è hex)"];
    number -> final [label="—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å"];
    
    string -> string [label="–ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∫—Ä–æ–º–µ –∫–∞–≤—ã—á–∫–∏"];
    string -> final [label="–∫–∞–≤—ã—á–∫–∞"];
    
    operator -> operator [label="= (–¥–ª—è ==)"];
    operator -> final [label="–ª—é–±–æ–π —Å–∏–º–≤–æ–ª"];
    
    comment -> comment [label="–ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∫—Ä–æ–º–µ \\n"];
    comment -> final [label="\\n"];
}
```

## –í–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä?

–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä (–ª–µ–∫—Å–µ—Ä) - —ç—Ç–æ –ø–µ—Ä–≤—ã–π —ç—Ç–∞–ø –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–∏–º—ã–µ —á–∞—Å—Ç–∏.

### –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è

```clojure
;; –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
(def sample-code "int main() { return 42; }")

;; –ü—Ä–æ—Ü–µ—Å—Å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
(defn explain-tokenization [code]
  (let [tokens (tokenize code)]
    (println "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:" code)
    (println "–¢–æ–∫–µ–Ω—ã:")
    (doseq [token tokens]
      (println 
       (format "- –¢–∏–ø: %-10s –ó–Ω–∞—á–µ–Ω–∏–µ: %-5s" 
               (first token) 
               (second token))))))

;; –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
(explain-tokenization sample-code)
;; –í—ã–≤–æ–¥:
;; –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: int main() { return 42; }
;; –¢–æ–∫–µ–Ω—ã:
;; - –¢–∏–ø: keyword    –ó–Ω–∞—á–µ–Ω–∏–µ: int
;; - –¢–∏–ø: identifier –ó–Ω–∞—á–µ–Ω–∏–µ: main
;; - –¢–∏–ø: open-paren –ó–Ω–∞—á–µ–Ω–∏–µ: (
;; - –¢–∏–ø: close-paren –ó–Ω–∞—á–µ–Ω–∏–µ: )
;; - –¢–∏–ø: open-brace –ó–Ω–∞—á–µ–Ω–∏–µ: {
;; - –¢–∏–ø: keyword    –ó–Ω–∞—á–µ–Ω–∏–µ: return
;; - –¢–∏–ø: number     –ó–Ω–∞—á–µ–Ω–∏–µ: 42
;; - –¢–∏–ø: separator  –ó–Ω–∞—á–µ–Ω–∏–µ: ;
;; - –¢–∏–ø: close-brace –ó–Ω–∞—á–µ–Ω–∏–µ: }
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤
```clojure
;; –§–∞–π–ª: src/compiler/lexer.clj
;; –°—Ç—Ä–æ–∫–∏ 30-50: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤

(def token-types
  "–°–ª–æ–≤–∞—Ä—å, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤"
  {:keyword     ["int" "void" "char" "return" ...]
   :identifier  #"[a-zA-Z_][a-zA-Z0-9_]*"
   :number      #"0[xX][0-9a-fA-F]+|\d+"
   :operator    ["+", "-", "*", "/", "==", ...]
   :sfr_keyword ["sfr"]
   :sbit_keyword ["sbit"]})
```

#### 2. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
```clojure
;; –§–∞–π–ª: src/compiler/lexer.clj
;; –°—Ç—Ä–æ–∫–∏ 118-250: –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

(defn lex [input]
  "–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤"
  (loop [pos 0
         line 1
         col 1
         state :initial
         tokens (transient [])]
    (if (>= pos (count input))
      ;; –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤
      (persistent! tokens)
      
      ;; –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
      (let [current-char (get input pos)]
        (case state
          :initial 
          (cond 
            ;; –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–µ–ª–æ–≤
            (Character/isWhitespace current-char)
            (recur (inc pos) 
                   (if (= current-char \newline) (inc line) line)
                   (if (= current-char \newline) 1 (inc col))
                   :initial 
                   tokens)
            
            ;; –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
            (Character/isLetter current-char)
            (recur pos line col :identifier tokens)
            
            ;; –î—Ä—É–≥–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è...)))))
```

### –ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ –∫–æ–¥—É –¥–ª—è junior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ù–∞—á–∞–ª–æ –ø—É—Ç–∏**: [`src/compiler/lexer.clj`](https://github.com/your-repo/compiler/blob/main/src/compiler/lexer.clj)
   - –°—Ç—Ä–æ–∫–∏ 1-30: –ò–º–ø–æ—Ä—Ç—ã –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –°—Ç—Ä–æ–∫–∏ 30-50: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤
   - –°—Ç—Ä–æ–∫–∏ 118-250: –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `lex`

2. **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è**:
   - `is-keyword?` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
   - `operator?` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
   - `lex` - –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
   - `tokenize` - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

### –£—á–µ–±–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è

1. **–£—Ä–æ–≤–µ–Ω—å 1 (–ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ)**:
   - –ò–∑—É—á–∏—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `token-types`
   - –†–∞–∑–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `is-keyword?`

2. **–£—Ä–æ–≤–µ–Ω—å 2 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)**:
   - –ò–∑—É—á–∏—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º `lex`
   - –ü–æ–π–º–∏—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞

3. **–£—Ä–æ–≤–µ–Ω—å 3 (–≠–∫—Å–ø–µ—Ä—Ç)**:
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

## –°–æ–≤–µ—Ç—ã –ø–æ –∏–∑—É—á–µ–Ω–∏—é

- **–ß–∏—Ç–∞–π—Ç–µ –∫–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–æ** üêå
- **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** üß™
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ REPL –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è** üíª
- **–†–∏—Å—É–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π** üìä

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è junior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä - —ç—Ç–æ –Ω–µ –º–∞–≥–∏—è, –∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —à–∞–≥–æ–≤. –ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–π –∫–∏—Ä–ø–∏—á–∏–∫ –≤ –±–æ–ª—å—à–æ–º –∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞. –ù–µ –±–æ–π—Ç–µ—Å—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ –¥–µ—Ç–∞–ª–∏!

## –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–∏—è

### –§–æ—Ä–º–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–∞–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

\[ \text{Lexer}: \Sigma^* \rightarrow T \]

–≥–¥–µ:
- \( \Sigma \) - –∞–ª—Ñ–∞–≤–∏—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞
- \( \Sigma^* \) - –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å–∏–º–≤–æ–ª–æ–≤
- \( T \) - –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤

### –°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

–ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
- **–§–∞–π–ª**: [`src/compiler/lexer.clj`](https://github.com/Sehktel/compiler/blob/main/src/compiler/lexer.clj)
- **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏**: [`lex`](https://github.com/Sehktel/compiler/blob/main/src/compiler/lexer.clj#L118-L250)

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞

–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç (NFA):

\[ M = (Q, \Sigma, \delta, q_0, F) \]

- \( Q \) - –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- \( \Sigma \) - –≤—Ö–æ–¥–Ω–æ–π –∞–ª—Ñ–∞–≤–∏—Ç
- \( \delta: Q \times \Sigma \rightarrow 2^Q \) - —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- \( q_0 \) - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- \( F \) - –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –∫–æ–¥–µ

```clojure
;; –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
(defn lex [input]
  (loop [pos 0
         line 1
         col 1
         state :initial]
    (case state
      :initial   (cond 
                   ;; –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                   (Character/isWhitespace current-char) 
                   (recur (inc pos) line col :initial)
                   
                   (Character/isLetter current-char) 
                   (recur pos line col :identifier)
                   
                   ;; –î—Ä—É–≥–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è...)
      :identifier (...)
      :number     (...)
      :string     (...)
      ;; ... –¥—Ä—É–≥–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è)))
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞

### –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö:

1. **–¢–µ–æ—Ä–∏—è —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–æ—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–æ–≤ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–µ–∫—Å–∏—á–µ—Å–∫–∏—Ö –µ–¥–∏–Ω–∏—Ü

2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
   - –†–∞–∑–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –¢–∏–ø–æ–ª–æ–≥–∏—è —Ç–æ–∫–µ–Ω–æ–≤

–§–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤:

```clojure
;; –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
(def token-types
  {:keyword     #"^(int|void|char|return|if|else)$"
   :identifier  #"^[a-zA-Z_][a-zA-Z0-9_]*$"
   :number      #"^(0x[0-9a-fA-F]+|\d+)$"
   :operator    #"^(\+|\-|\*|/|==|!=|<|>)$"
   :separator   #"^[(){}\[\];,]$"})
```

### –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ

1. **–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã**:
   - –•–æ–º—Å–∫–∏–π, –ù. "–§–æ—Ä–º–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ –∏ —Ç–µ–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–æ–≤" (1959)
   - –≠–ø–ø, –î. "–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã: –ü—Ä–∏–Ω—Ü–∏–ø—ã, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π" (2009)

2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**:
   - –•—å—é–∑, –î. "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ" (1989)
   - –•–µ–Ω–¥–µ—Ä—Å–æ–Ω, –ü. "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è" (1980)

## –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

- –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ö–æ–¥: \( O(n) \), –≥–¥–µ \( n \) - –¥–ª–∏–Ω–∞ –≤—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –•—É–¥—à–∏–π —Å–ª—É—á–∞–π: \( O(n \log n) \) –ø—Ä–∏ —Å–ª–æ–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

### –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```clojure
;; –§—É–Ω–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ —Å –∞–Ω–∞–ª–∏–∑–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
(defn tokenize-with-complexity [input]
  (let [start-time (System/nanoTime)
        tokens (lex input)
        end-time (System/nanoTime)]
    (println (format "–í—Ä–µ–º—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏: %d –Ω—Å" 
                     (- end-time start-time)))
    tokens))
```

### –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

- –û—Å–Ω–æ–≤–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: \( O(m) \), –≥–¥–µ \( m \) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ transient-–∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–ª–ª–æ–∫–∞—Ü–∏–π

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

1. **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**:
   - [GitHub: Clojure Compiler Project](https://github.com/Sehktel/compiler)
   - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](https://Sehktel.github.io/compiler-docs)

2. **–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã**:
   - [Instaparse: –ü–∞—Ä—Å–∏–Ω–≥ –≤ Clojure](https://github.com/Engelberg/instaparse)
   - [Clojure Tools: –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞](https://github.com/clojure/tools.analyzer)

### –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∏–∑—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ü–∏—Ç–∏—Ä—É–π—Ç–µ:

```
@techreport{ClojureCLexer2024,
  author      = {Sehktel},
  title       = {–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è —è–∑—ã–∫–∞ C –Ω–∞ Clojure},
  institution = {Sehktel},
  year        = {2025},
  note        = {–§–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è}
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç sophisticated –ø–æ–¥—Ö–æ–¥ –∫ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, —Å–æ—á–µ—Ç–∞—é—â–∏–π —Å—Ç—Ä–æ–≥–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ–æ—Ä–∏–∏ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤ —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—É—á–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- –§–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π**: –î–∞–ª—å–Ω–µ–π—à–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤.

## –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–∞—à–µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

–í–∞—à –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ 8051 –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **Keyword `interrupt`**:
   - –í `token-types` —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω `:interrupt_keyword ["interrupt"]`
   - –ù–æ –≤–∞—à –ø–∞—Ä—Å–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `interrupt`

2. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã (sfr)**:
   - –í –≤–∞—à–µ–º –ª–µ–∫—Å–µ—Ä–µ –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `sfr`
   - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∫–∞–∫ `sfr SP = 0x81;`

3. **–ë–∏—Ç-–∞–¥—Ä–µ—Å—É–µ–º—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã (sbit)**:
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `sbit`
   - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –±–∏—Ç-–∞–¥—Ä–µ—Å—É–µ–º—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∫–∞–∫ `sbit P1_0 = 0x90;`

4. **–í–µ–∫—Ç–æ—Ä—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π**:
   - –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `#define`, –Ω–æ –ø–∞—Ä—Å–µ—Ä –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å –≤–µ–∫—Ç–æ—Ä–æ–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

1. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –¥–ª—è `sfr` –∏ `sbit` –≤ `token-types`:

```clojure
;; –î–æ–±–∞–≤–∏—Ç—å –≤ map token-types:
:sfr_keyword ["sfr"]
:sbit_keyword ["sbit"] 
```

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `interrupt`:

```clojure
(defn parse-function-interrupt
  "–†–∞–∑–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º interrupt.
   
   ## –ü—Ä–∏–º–µ—Ä
   ```c
   void P14 (void) interrupt IE0_VECTOR {...}
   ```"
  [tokens]
  (when-let [[return-type remaining] (match-type :void_keyword tokens)]
    (when-let [[name remaining] (match-type :identifier remaining)]
      (when-let [[_ remaining] (match-value :open_round_bracket "(" remaining)]
        (when-let [[_ remaining] (match-value :void_keyword "void" remaining)]
          (when-let [[_ remaining] (match-value :close_round_bracket ")" remaining)]
            (when-let [[_ remaining] (match-value :interrupt_keyword "interrupt" remaining)]
              (when-let [[vector-num remaining] (match-type :identifier remaining)]
                ;; –¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏...
                ;; ...
                ))))))))
```

3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è sfr –∏ sbit:

```clojure
(defn parse-sfr-declaration
  "–†–∞–∑–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞.
   
   ## –ü—Ä–∏–º–µ—Ä
   ```c
   sfr SP = 0x81;
   ```"
  [tokens]
  ;; ...
  )

(defn parse-sbit-declaration
  "–†–∞–∑–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –±–∏—Ç-–∞–¥—Ä–µ—Å—É–µ–º–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞.
   
   ## –ü—Ä–∏–º–µ—Ä
   ```c
   sbit P1_0 = 0x90;
   ```"
  [tokens]
  ;; ...
  )
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–∫—É—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç `#define IE0_VECTOR 0`, –Ω–æ –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è:
   - –ö–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ `sfr` –∏ `sbit`
   - –°–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `interrupt`
   - –ü—Ä—è–º—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ä–µ–≥–∏—Å—Ç—Ä–∞–º (P1, EA, EX0, IT0)

–í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ª–µ–∫—Å–µ—Ä –∏ –ø–∞—Ä—Å–µ—Ä, –¥–æ–±–∞–≤–∏–≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è 8051 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤–∞—à –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥. 